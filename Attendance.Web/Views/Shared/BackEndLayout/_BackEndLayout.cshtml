
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" class="app">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

    <title>@ViewBag.Title</title>


    <link href="~/Content/admin/app.v2.css" rel="stylesheet" />
    <script src="~/Scripts/AdminJS/app.v2.js"></script>

    <!--This bundle was moved by the Telerik VS Extensions for compatibility reasons-->

    <link href="@Url.Content("~/Content/kendo/2017.3.913/kendo.common.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/kendo/2017.3.913/kendo.mobile.all.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/kendo/2017.3.913/kendo.dataviz.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/kendo/2017.3.913/kendo.default.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/kendo/2017.3.913/kendo.dataviz.default.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/kendo/2017.3.913/kendo.rtl.min.css")" rel="stylesheet" type="text/css" />
    <link href="~/Content/Admin/admin-font-awesome.css" rel="stylesheet" />
    <link href="~/Content/Admin/PersianDatePicker.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet" />
    <link href="~/Content/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>

    <script src="~/Scripts/AdminJS/PersianDatePicker.min.js"></script>
    <link href="https://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" rel="Stylesheet">
    <script src="@Url.Content("~/Scripts/kendo/2017.3.913/jquery.min.js")"></script>
    <script src="https://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>

    <script src="@Url.Content("~/Scripts/kendo/2017.3.913/jszip.min.js")"></script>
    @*<script src="@Url.Content("~/Scripts/kendo/2016.2.504/kendo.all.min.js")"></script>*@
    <script src="~/Scripts/kendo/2017.3.913/kendo.all.min.js"></script>


    @RenderSection("styles", required: false)

    <script src="@Url.Content("~/Scripts/kendo/2017.3.913/kendo.aspnetmvc.min.js")"></script>
    @*<script src="@Url.Content("~/Scripts/kendo.modernizr.custom.js")"></script>*@
    <link href="~/Content/admin/admin-font-awesome.css" rel="stylesheet" />
    <link href="~/Content/admin/AdminStyle.css" rel="stylesheet" />
    <link href="~/Content/Admin/style.css" rel="stylesheet" />
    <link href="~/Content/Site.css" rel="stylesheet" />
    <link href="~/Content/toastr.css" rel="stylesheet" type="text/css" />
    @RenderSection("head", required: false)

</head>

<body class="k-rtl">

    <section class="vbox">
        <header class="bg-dark dk header navbar navbar-fixed-top-xs">
            <div class="navbar-header aside-md">
                <a class="btn btn-link visible-xs" data-toggle="class:nav-off-screen" data-target="#nav"><i class="fa fa-bars"></i></a><a href="/" class="navbar-brand">
                    <img src="~/assets/imgs/vala/logo.png" class="m-r-sm" />
                </a><a class="btn btn-link visible-xs" data-toggle="dropdown" data-target=".nav-user"><i class="fa fa-cog"></i></a>
            </div>
            <ul class="nav navbar-nav hidden-xs"></ul>
            <ul class="nav navbar-nav navbar-right hidden-xs nav-user">

                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <span class="thumb-sm avatar pull-left">
                            <img src="~/Images/avatar_default.jpg" />
                        </span>
                        <b class="caret"></b>
                    </a>
                    <ul class="dropdown-menu animated fadeInRight">
                        <span class="arrow top"></span>
                        <li><a href="#">پروفایل</a> </li>
                        <li><a href="#">Help</a> </li>
                        <li class="divider"></li>
                        <li>
                            @Html.ActionLink("خروج", "LogOff", "Accounts")
                        </li>
                    </ul>
                </li>
            </ul>
        </header>
        <section>
            <section class="hbox stretch">
                <!-- .aside -->
                <aside class="bg-dark lter aside-md hidden-print nav-xs-right" id="nav" style="width:260px;">
                    <section class="vbox">

                        <section class="w-f scrollable">
                            <div class="slim-scroll" data-height="auto" data-disable-fade-out="true" data-distance="0" data-size="5px" data-color="#333333">
                                <!-- nav -->
                                @Html.Partial("BackEndLayout/_MenuPartial")
                            </div>
                        </section>

                    </section>
                </aside>
                <!-- /.aside -->
                <section id="content">
                    <section class="vbox">
                        <section class="scrollable padder" style="margin-top: 5px;">
                            @RenderBody()
                        </section>
                    </section>
                    <a href="#" class="hide nav-off-screen-block" data-toggle="class:nav-off-screen" data-target="#nav"></a>
                </section>
            </section>
        </section>
    </section> 
    @*<script src="~/Scripts/jquery-3.4.1.js" type="text/javascript">window.rootUrl = '@Url.Content("~/")';</script>*@
    <script src="~/Scripts/toastr.js"></script>
    @if (TempData["Toastr"] != null)
    {
        ToastrViewModel toastr = TempData["Toastr"] as ToastrViewModel;
        <script>

            toastr["@Html.Raw(toastr.Class)"]("@Html.Raw(toastr.Text)")

            toastr.options = {
                "closeButton": false,
                "debug": false,
                "newestOnTop": false,
                "progressBar": false,
                "positionClass": "toast-bottom-left",
                "preventDuplicates": false,
                "onclick": null,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            }
        </script>
    }
    <script type="text/javascript">
        $(document).ready(function () {
            var URL = window.location.pathname;
            if (URL.includes('ProductCategories') || URL.includes('products')) {
                $('.menuitem').removeClass('active');
                $('#productLi').addClass('active');
            }

            toastEl = $('.toast-message')

            if (toastEl!=null) {
                toastEl.attr('style', 'bottom: 12px;left: 12px;')
            }

            else if (URL.includes('/Orders')) {
                $('.menuitem').removeClass('active');
                $('#orderLi').addClass('active');
            }

            else if (URL.includes('/users')) {
                $('.menuitem').removeClass('active');
                $('#userLi').addClass('active');
            }
            else if (URL.includes('/Texts')) {
                $('.menuitem').removeClass('active');
                $('#textLi').addClass('active');
            }
            else if (URL.includes('/Comments')) {
                $('.menuitem').removeClass('active');
                $('#commentLi').addClass('active');
            }
            else if (URL.includes('/Texts')) {
                $('.menuitem').removeClass('active');
                $('#textLi').addClass('active');
            }
            else if (URL.includes('/Colors')) {
                $('.menuitem').removeClass('active');
                $('#colorLi').addClass('active');
            }

            $(":input").on("keyup change", function (e) { 
                $(e.target).val(toEnglishNumber(e.target.value))
            })

        });

        function toEnglishNumber(strNum) {
            var pn = ["۰", "۱", "۲", "۳", "۴", "۵", "۶", "۷", "۸", "۹"];
            var en = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"];
            var an = ["٠", "١", "٢", "٣", "٤", "٥", "٦", "٧", "٨", "٩"];
            var cache = strNum;
            for (var i = 0; i < 10; i++) {
                var regex_fa = new RegExp(pn[i], 'g');
                var regex_ar = new RegExp(an[i], 'g');
                cache = cache.replace(regex_fa, en[i]);
                cache = cache.replace(regex_ar, en[i]);
            }
            return cache;
        }
    </script>

    @RenderSection("scripts", required: false)
</body>
</html>
